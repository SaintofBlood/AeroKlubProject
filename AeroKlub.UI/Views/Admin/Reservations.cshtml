@model AeroKlub.UI.Models.PlaneListViewModel
@{
	Layout = null;
}

<!DOCTYPE html>

<html>
<head>
	<meta name="viewport" content="width=device-width" />
	<title>Reservations</title>
	<link href="~/Content/bootstrap.min.css" rel="stylesheet" />
	<script src="~/Scripts/jquery-3.3.1.min.js"></script>
	<script src="~/Scripts/bootstrap.min.js"></script>
	<link href="~/Content/NavbarStyle.css" rel="stylesheet" />


	<style>
		.bootbox .modal-header {
			display: block;
		}
	</style>
</head>
<body>

	@if (TempData["reservationmessage"] != null)
	{
		<script src="~/Scripts/bootbox.min.js"></script>
		<script src="~/Scripts/bootbox.js"></script>

		<script>

				bootbox.alert({
					size: "small",
					title: "Usunięcie rezewacji",
					message: '@TempData["reservationmessage"]'
				})
		</script>

	}


	<nav class="navbar fixed-top navbar-expand-lg navbar-light bg-light">
		<a class="navbar-brand">Areo Klub</a>

		<div class="collapse navbar-collapse" id="navbarNav">
			<ul class="navbar-nav">
				<li class="nav-item">
					@Html.ActionLink("Home", "Index", "Admin", new { Name = Model.Name, Nickname = Model.NickName }, new { @class = "nav-link" })
				</li>

				<li class="nav-item dropdown">
					<a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						Rezerwacje
					</a>
					<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
						@Html.ActionLink("Lista rezerwacji", "Reservations", "Admin", new { Name = Model.Name, Nickname = Model.NickName }, new { @class = "dropdown-item" })
					</div>
				</li>
				<li class="nav-item dropdown">
					<a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						Samoloty
					</a>
					<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
						@Html.ActionLink("Spis Samolotów", "Samoloty", "Admin", new { Name = Model.Name, Nickname = Model.NickName }, new { @class = "dropdown-item" })
						@Html.ActionLink("Dodaj samolot", "AddPlane", "Admin", new { Name = Model.Name, Nickname = Model.NickName }, new { @class = "dropdown-item" })
						@Html.ActionLink("Usuń samolot", "DeletePlane", "Admin", new { Name = Model.Name, Nickname = Model.NickName }, new { @class = "dropdown-item" })

					</div>
				</li>
				<li class="nav-item dropdown">
					<a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						Serwis samoltów
					</a>
					<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
						@Html.ActionLink("Dodaj serwis", "AddManuallyService", "Admin", new { Name = Model.Name, Nickname = Model.NickName }, new { @class = "dropdown-item" })
						@Html.ActionLink("Usuń serwis", "DeleteService", "Admin", new { Name = Model.Name, Nickname = Model.NickName }, new { @class = "dropdown-item" })
						@Html.ActionLink("Lista serwisów samolotów", "PlaneServices", "Admin", new { Name = Model.Name, Nickname = Model.NickName }, new { @class = "dropdown-item" })
					</div>
				</li>
				<li class="nav-item">
					@Html.ActionLink("Wyloguj", "Login", "Login", new { Name = Model.Name, Nickname = Model.NickName }, new { @class = "nav-link" })
				</li>
			</ul>
		</div>

	</nav>


	<div class="container-fluid">
		<table class="table table-bordered text-center">
			<thead>
				<tr>
					<th>
						ReservationID
					</th>
					<th>
						PlaneName
					</th>
					<th>
						Data
					</th>
					<th>
						From
					</th>
					<th>
						To
					</th>
					<th>
						By
					</th>
					<th>
						Akcje
					</th>
				</tr>
			</thead>
			<tbody>
				@foreach (var rezerwacja in Model.Reservations)
				{
					<tr>
						<td>@rezerwacja.ReservationID</td>
						<td>@rezerwacja.PlaneName</td>
						<td> @rezerwacja.Date</td>
						<td> @rezerwacja.From</td>
						<td>   @rezerwacja.To</td>
						<td>@rezerwacja.By</td>
						<td>@Html.ActionLink("Usuń", "DeleteReservation", "Reservation", new { ReservationID = rezerwacja.ReservationID , Name = Model.Name , Nickname = Model.NickName}, null)</td>
					</tr>
				}
			</tbody>
		</table>
	</div>
</body>
</html>
