@model AeroKlub.UI.Models.PlaneListViewModel

@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
	<meta name="viewport" content="width=device-width" />
	<title>Dodaj manualnie serwis</title>

	<link href="~/Content/bootstrap.min.css" rel="stylesheet" />
	<script src="~/Scripts/jquery-3.3.1.min.js"></script>
	<script src="~/Scripts/bootstrap.min.js"></script>
	<link href="~/Content/NavbarStyle.css" rel="stylesheet" />

	<style>
		.bootbox .modal-header {
			display: block;
		}
		.col-centered {
			margin: 0 auto;
			float: none;
		}

	</style>
</head>
<body>

	@if (TempData["addmanuallyservice"] != null)
	{
		<script src="~/Scripts/bootbox.min.js"></script>
		<script src="~/Scripts/bootbox.js"></script>

		<script>

				bootbox.alert({
					size: "small",
					title: "Serwis",
					message: '@TempData["addmanuallyservice"]'
				})
		</script>

	}

	<nav class="navbar fixed-top navbar-expand-lg navbar-light bg-light">
		<a class="navbar-brand">Areo Klub</a>

		<div class="collapse navbar-collapse" id="navbarNav">
			<ul class="navbar-nav">
				<li class="nav-item">
					@Html.ActionLink("Home", "Index", "Admin", new { Name = Model.Name, Nickname = Model.NickName }, new { @class = "nav-link" })
				</li>

				<li class="nav-item dropdown">
					<a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						Rezerwacje
					</a>
					<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
						@Html.ActionLink("Lista rezerwacji", "Reservations", "Admin", new { Name = Model.Name, Nickname = Model.NickName }, new { @class = "dropdown-item" })
					</div>
				</li>
				<li class="nav-item dropdown">
					<a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						Samoloty
					</a>
					<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
						@Html.ActionLink("Spis Samolotów", "Samoloty", "Admin", new { Name = Model.Name, Nickname = Model.NickName }, new { @class = "dropdown-item" })
						@Html.ActionLink("Dodaj samolot", "AddPlane", "Admin", new { Name = Model.Name, Nickname = Model.NickName }, new { @class = "dropdown-item" })
						@Html.ActionLink("Usuń samolot", "DeletePlane", "Admin", new { Name = Model.Name, Nickname = Model.NickName }, new { @class = "dropdown-item" })

					</div>
				</li>
				<li class="nav-item dropdown">
					<a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						Serwis samoltów
					</a>
					<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
						@Html.ActionLink("Dodaj serwis", "AddManuallyService", "Admin", new { Name = Model.Name, Nickname = Model.NickName }, new { @class = "dropdown-item" })
						@Html.ActionLink("Usuń serwis", "DeleteService", "Admin", new { Name = Model.Name, Nickname = Model.NickName }, new { @class = "dropdown-item" })
						@Html.ActionLink("Lista serwisów samolotów", "PlaneServices", "Admin", new { Name = Model.Name, Nickname = Model.NickName }, new { @class = "dropdown-item" })
					</div>
				</li>
				<li class="nav-item dropdown">
					<a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						Użytkownicy
					</a>
					<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
						@Html.ActionLink("Dodaj użytkownika manualnie", "AddManuallyUser", "Admin", new { Name = Model.Name, Nickname = Model.NickName }, new { @class = "dropdown-item" })
						@Html.ActionLink("Usuń użytkownika", "DeleteUser", "Admin", new { Name = Model.Name, Nickname = Model.NickName }, new { @class = "dropdown-item" })
						@Html.ActionLink("Zmień uprawnienia użytkownika", "ChangeUserRole", "Admin", new { Name = Model.Name, Nickname = Model.NickName }, new { @class = "dropdown-item" })
					</div>
				</li>
				<li class="nav-item">
					@Html.ActionLink("Wyloguj", "Login", "Login", new { Clear = true }, new { @class = "nav-link" })
				</li>
			</ul>
		</div>

	</nav>


	<div class="container-fluid text-center">


		@if (Model.ListaSamolotów.Any() != false && Model.MechanicList.Any() != false)
		{
			using (Html.BeginForm("AddServiceToRepostory", "Admin", FormMethod.Post, new { enctype = "multipart/form-data" }))
			{
				<div style="padding-top:1%;padding-bottom:1%">
					Wybierz samolot:
					@Html.DropDownList("Plane", Model.ListaSamolotów, new { @class = "form-control col-centered", style = "width:auto" })
				</div>

				<div>
					Wybierz mechanika:
					@Html.DropDownList("Mechanic", Model.MechanicList, new { @class = "form-control col-centered", style = "width:auto" }) 
				</div>

				@Html.TextArea("Name", Model.Name, new { @readonly = true, style = "display:none" })
				@Html.TextArea("Nickname", Model.NickName, new { @readonly = true, style = "display:none" })

				<div style="padding-top:1%;padding-bottom:1%">
					<p>Wybierz datę:</p>
					<input id="Date" name="Date" autocomplete="off"  class="form-control" style="width: auto;float: none;margin: auto;text-align:center;">
				</div>


				<link href="~/css/bootstrap-datepicker.css" rel="stylesheet" />
				<script src="~/Scripts/bootstrap-datepicker.js"></script>
				<script src="~/locales/bootstrap-datepicker.pl.min.js"></script>

				<script type="text/javascript">
					$('#Date').datepicker({
						format: "dd.mm.yyyy",
						weekStart: 1,
						autoclose: true,
						todayHighlight: true,
						language: 'pl',
						daysOfWeekDisabled: "6,0",
						orientation: "bottom"
					});
					$('#datepicker').datepicker("setDate", new Date());
				</script>


				<input type="submit" value="Dodaj" class="btn btn-warning" />
			}
		}
		else
		{
			<p>Brak mechaników lub samolotów!</p>
		}
	</div>
</body>
</html>
